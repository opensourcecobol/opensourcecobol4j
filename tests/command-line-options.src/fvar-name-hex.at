AT_SETUP([-fvar-name-hex])

AT_DATA([prog.cbl], [       IDENTIFICATION              DIVISION.
       PROGRAM-ID.                 prog.

       DATA                        DIVISION.
       WORKING-STORAGE             SECTION.
       01 Vh PIC x(5) VALUE "00000".
       01 ‰¡•l|‚P PIC x(5) VALUE "11111".
       01 b•{|2 PIC x(5) VALUE "22222".
       01 ‰F“s‹{‚P PIC x(5) VALUE "33333".
       01 å‘ä2 PIC x(5) VALUE "44444".
       PROCEDURE                   DIVISION.
       “Œ‹žƒ‰ƒxƒ‹.
         DISPLAY Vh.
       _“Þì|‚Pƒ‰ƒxƒ‹.
         DISPLAY ‰¡•l|‚P.
       ŽR—œ|2ƒ‰ƒxƒ‹.
         DISPLAY b•{|2.
       “È–Ø‚Pƒ‰ƒxƒ‹.
         DISPLAY ‰F“s‹{‚P.
       ‹{é2ƒ‰ƒxƒ‹.
         DISPLAY å‘ä2.
])


AT_CHECK([${COMPILE} prog.cbl])
AT_CHECK([${RUN_MODULE} prog], [0],
[00000
11111
22222
33333
44444
])
AT_CHECK([cat prog.java | grep "Vh" > /dev/null])
AT_CHECK([cat prog.java | grep "‰¡•l|‚P" > /dev/null])
AT_CHECK([cat prog.java | grep "b•{|2" > /dev/null])
AT_CHECK([cat prog.java | grep "‰F“s‹{‚P" > /dev/null])
AT_CHECK([cat prog.java | grep "å‘ä2" > /dev/null])

AT_CHECK([cat prog.java | grep "“Œ‹žƒ‰ƒxƒ‹" > /dev/null])
AT_CHECK([cat prog.java | grep "_“Þì|‚Pƒ‰ƒxƒ‹" > /dev/null])
AT_CHECK([cat prog.java | grep "ŽR—œ|2ƒ‰ƒxƒ‹" > /dev/null])
AT_CHECK([cat prog.java | grep "“È–Ø‚Pƒ‰ƒxƒ‹" > /dev/null])
AT_CHECK([cat prog.java | grep "‹{é2ƒ‰ƒxƒ‹" > /dev/null])

AT_CHECK([${COMPILE} -fvar-name-hex prog.cbl])
AT_CHECK([${RUN_MODULE} prog], [0],
[00000
11111
22222
33333
44444
])

AT_CHECK([cat prog.java | grep "90568f68" > /dev/null])
AT_CHECK([cat prog.java | grep "89a1956c817c8250" > /dev/null])
AT_CHECK([cat prog.java | grep "8d62957b817c32" > /dev/null])
AT_CHECK([cat prog.java | grep "894693738b7b8250" > /dev/null])
AT_CHECK([cat prog.java | grep "90e591e432" > /dev/null])

AT_CHECK([cat prog.java | grep "938c8b9e83898378838b" > /dev/null])
AT_CHECK([cat prog.java | grep "905f93de90ec817c825083898378838b" > /dev/null])
AT_CHECK([cat prog.java | grep "8e52979c817c3283898378838b" > /dev/null])
AT_CHECK([cat prog.java | grep "93c896d8825083898378838b" > /dev/null])
AT_CHECK([cat prog.java | grep "8b7b8fe93283898378838b" > /dev/null])

AT_CLEANUP
